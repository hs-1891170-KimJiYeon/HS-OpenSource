# OPENSOURCE(8)_4,9_report

## 1. 서비스 소개
현대는 정보 과잉의 시대이다. 수 많은 정보들이 쏟아져 나오지만 많은 만큼 무언가를 고르고 결정하기 어려워지고 있다. 특히 코로나 시기를 거치며 각종 영화 등의 미디어 컨텐츠들의 수요와 공급이 많아지며 어떤 것을 볼 지 고르는 것에 더 어려움을 겪고 있다. 그래서 우리는 그러한 트랜드에 맞춰 손 쉽게 사용자들이 원하는 작품을 검색하고 추천하는 것을 돕고자 이 영화 검색 및 추천 서비스를 기획하였다.




## 2. 유사서비스 분석

### 2.1 유사서비스 분석

####  넷플릭스, 왓챠피디아.

유사 서비스로는 대표적 ott서비스인 넷플릭스와 왓챠피디아가 있다.

##### 유사점

1. 검색기능과 추천 서비스를 제공한다.
2. 같은 내용 기반 필터링 혹은 컨텐츠 기반 필터링 방식을 사용한다.

*컨텐츠 기반 필터링:
콘텐츠 기반 필터링은 콘텐츠 자체를 분석한다. 콘텐츠 프로필에 작성된 내용, 키워드, 별점, 사용자가 검색한 작품과 유사성을 비교하여 추천한다.
콘텐츠 추천 기준으로는 앞서 작성한 것 외에도 배우, 장르, 감독, 스토리 특징 등이 있다.
ex) 사용자가 해리포터를 검색하였다면 같은 소설 판타지 장르인 반지의 제왕을 추천.
비슷한 장르만 추천하다보니 추천 컨텐츠의 다양성이 떨어질 수 밖에 없다. 그리고 사용자 개개인의 취향을 자세히 파악 불가능하다.


##### 차이점
1. 넷플릭스와 왓챠피디아는 컨텐츠 기반 필터링 외에도 사용자 기반 필터링과 아이템 기반 필터링 방식을 채택하였다.

사용자 기반 필터링 : 
단순한 컨텐츠 기반 필터링을 넘어 사용자들의 프로필을 분석하여 비슷한 사용자에게도 추천해주는 방식이다. 
ex) 성별, 나이대 등 프로필의 공통점들을 분석하여 비슷한 사용자들이 자주 본 콘텐츠들을 아직 그 콘텐츠를 보지 못한 비슷한 사용자에게도 추천해주는 방식이다. 컨텐츠 기반 필터링과 다르게
다양한 콘텐츠들이 추천되어질 수 있다.

아이템기반 필터링 :
영화나 드라마의 콘텐츠들의 사용자 선호도를 분석하여 추천해주는 기법이다.
ex)사용자 A와 B는 영화 a, b, c 라는 작품 3개를 보았고, 사용자 C는 a, b 만 시청하였다고 가정했을 때에 사용자 C에게도 영화 c를 선호한다고 추측하고 추천해주는 기법이다.


2. 우리 서비스의 유사서비스와의 차별화된 점은 word cloud 오픈소스를 사용하여 사용자가 검색한 컨텐츠의 평점, 리뷰 등의 데이터들을 추출하여 시각화함으로 사용자들에게 제공하여 사용자들이 손쉽게 작품의 핵심 키워드를 알 수 있도록 하였다.




## 3. 시스템 구조

![제목 없음](https://user-images.githubusercontent.com/69784492/203237033-ef2fe43e-f459-4fb5-9fb4-8a905617d1ec.png)

사용자는 React를 통해 작품을 검색하고, 검색 결과와 추천 작품을 볼 수 있다. Spring boot를 통해 사용자에게 보여줄 데이터를 주고 받고, 사용자에게 제공할 데이터를 React로 전송하여 사용자에게 보여준다.

TMDB에서 제공하는 api를 통해 영화와 드라마의 정보와 리뷰 데이터를 수집하여 MariaDB에 저장한다.

### 3.1 추천 시스템

MariaDB에 저장되어 있는 리뷰 데이터를 분석하기위해 KoNLPy와 TensorFlow를 사용한다. KoNLPy를 이용하여 문장을 토큰화 하고 불용어를 제거하여 명사 또는 형용사로 이루어진 단어 리스트를 구성한다. KoNLPy를 통해 만들어진 단어 리스트를 TensorFlow를 통해 분석한다. 각 작품의 리뷰 중 긍정적인 리뷰의 비율을 측정하여 저장하고, 여러 작품 중 긍정적 리뷰가 많이 작성된 작품들을 사용자에게 추천한다.

React와 React Star Rating을 통하여 사용자에게 선호하는 작품에 대한 평가를 받고, 해당 데이터를 springboot로 전송한다. Elastic Search에서 MariaDB에서 받은 작품 리스트와 Springboot에서 받은 선호 작품 리스트를 이용하여 선호 작품과 유사한 작품 리스트를 받아 사용자에게 추천해준다.

### 3.2 검색 시스템

사용자가 찾고자 하는 작품 검색을 할 때 MariaDB에쿼리문을 이용하여 검색을 하고 검색 결과를 Springboot로 전송하여 사용자에게 보여준다. 검색 결과 화면에서 작품의 특징을 한 눈에 파악하기 위해 워드클라우드를 사용한다. KoNLPy로 만들어진 단어리스트 내에서 단어의 빈도수를 시각화하여 사람들이 주로 어떠한 단어를 언급하며 평가를 하였는지 확인함으로써 작품의 특징을 쉽게 파악할 수 있다. 




## 4. 사용된 오픈소스 소프트웨어

### 4.1 Maria DB
MariaDB는 오픈 소스의 관계형 데이터베이스 관리 시스템(RDBMS)이다. MySQL과 동일한 소스 코드를 기반으로 하며, GPL v2 라이선스를 따른다. 오라클 소유의 현재 불확실한 MySQL의 라이선스 상태에 반발하여 만들어졌다.

MariaDB는 MySQL과 소스코드를 같이 하므로 사용방법과 구조가 MySQL과 동일하다. 이름만 다르지 명령어나 사용방법 모두 MySQL과 동일하다. 편의를 위해 MariaDB는 동일한 MySQL 버전과 바이너리 드롭인 교체를 지원한다.

근본적인 차이점은 MariaDB는 GPL v2 라이선스를 따르는 순수한 오픈소스 프로젝트이기에 오라클로부터 자유롭다. MariaDB의 모든 코드는 GPL, LGPL, LPGL, BSD의 라이선스로 만들어져 있다. 누구나 필요로 하면 커뮤니티를 통해 MariaDB를 내려받아 쓸 수 있다.

### 4.2 KoNLPy

KoNLPy는 한국어 정보처리를 위한 파이썬 패키지이다. 자연어 처리란 텍스트에서 의미있는 정보를 분석, 추출하고 이해하는 일련의 기술 집합이다. 자연어처리(NLP)에서 형태소를 분리하는 데이터 전처리가 필요한데 KoNLPy는 한국어 데이터 전처리를 할 때 주로 사용하는 패키지이다. 형태소, 어근, 접두사/접미사, 품사 등의 단위로 토큰화하는 기능을 수행하고 Hannanum, Kkma, Komoran, Mecab, Okt 총 5가지의 형태소 분석 방법을 제공한다. KoNLPy는 오픈소스 소프트웨어이며 GPL v3 라이센스를 채택하고있다.

### 4.3 Tensorflow

Tensorflow는 딥러닝 프로그램을 쉽게 구현할 수 있도록 기능을 제공하는 라이브러리로, 구글에서 만들었고, Apache License 2.0 오픈 소스 라이선스로 공개되어있다. 다양한 언어를 지원하지만 대부분의 편한 기능들은 파이썬 라이브러리로 구현이 되어있어 파이썬으로 개발하는 것이 편하다. 텐서플로에는 Keras나 TF-Slim과 같은 추상화 라이브러리와 사전에 학습된 모델들을 통해 사용자가 딥러닝을 편리하게 사용할 수 있도록 해준다. 

### 4.4 WordCloud

WordCloud란 문서의 키워드, 개념 등을 직관적으로 파악할 수 있도록 핵심 단어를 시각화하는 기법이다. 예를 들면 많이 언급될수록 단어를 크게 표현해 한눈에 들어올 수 있게 하는 기법 등이 있다. 주로 빅데이터를 분석할 때 데이터의 특징을 도출하기 위해 활용한다.

### 4.5 ElasticSearch



### 4.6 SpringBoot



### 4.7 React
React는 메타(Facebook)에서 개발한 웹 프레임워크로, Angular와 Vue와 더불어 대표적인 자바스크립트 라이브러리의 하나로서 사용자 인터페이스를 만들기 위해 사용한다.  React는 MIT 라이선스를 사용하고 있다.

기존의 웹 브라우저들은 새로운 정보를 가져오기 위해선 페이지 전체를 새로고침이 되는 번거로움이 있었다. 그러나 React는 SPA(single page application)를 전제로 하고 있으며, Virtual Dom을 사용하여 페이지 전체를 새로고침을 하지 않고 필요한 데이터만 전달받아 페이지를 갱신할 수 있다.

React의 특징은 컴포넌트 기반 구조라는 것이다. React는 UI를 여러 컴포넌트로 쪼개서 만든다.  기능 단위, UI 단위로 캡슐화 시켜서 코드를 관리하기 때문에 재사용성을 높일 수 있고, 덕분에 코드의 유지보수, 관리가 쉬워지는 장점이 있다.

### 4.8 React Star Rating

React는 오로지 view만을 담당하는 라이브러리이다. 내장되어 있는 기능이 무족해 써드파티 라이브러리를 사용하여 기능들을 추가해야한다. React star rating은 오픈소스 라이브러리로 사용하기 위해선 Node.js의 기본 패키지 관리자인 npm을 사용해야한다. 우리는 Node.js 대신 Spring Boot를 사용하기 때문에 npm을 따로 설치해야할 필요가 있다.

